:: StoryTitle
Kindrelia


:: StoryData
{
  "ifid": "78ACF449-5E0D-4CD4-B068-35E3C6E2287F",
  "format": "SugarCube",
  "format-version": "2.37.3",
  "start": "–ë–µ–∑—ã–º—è–Ω–Ω—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ",
  "zoom": 1
}


:: ..–ù–æ –∫—Ç–æ —Ç–æ–≥–¥–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –º–Ω–µ —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é? {"position":"750,525","size":"100,100"}
<<include "CustomMenu">>




–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê—É—Ä–µ–Ω.

–Ø –Ω–µ –∂–∏–ª –≤ –ö–∏–Ω–¥—Ä–µ–ª–∏–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –±—Ä–æ–¥–∏–ª –ø–æ –µ—ë —É–ª–∏—Ü–∞–º, –Ω–µ —Å–ª—É—à–∞–ª –≥–æ–ª–æ—Å–æ–≤ –µ—ë –∂–∏—Ç–µ–ª–µ–π –∏ –Ω–µ –≤–∏–¥–µ–ª —Å–≤–µ—Ç–∞ –µ—ë —Ä–∞—Å—Å–≤–µ—Ç–æ–≤.

–ö–æ–≥–¥–∞ –ö–∏–Ω–¥—Ä–µ–ª–∏—è –ø–æ–≥–∏–±–ª–∞, —è –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª. –Ø –±—ã–ª –≤—Å–µ–≥–æ –ª–∏—à—å —Å–≤—ë—Ä–Ω—É—Ç—ã–º –∫–æ–º–∫–æ–º –∂–∏–∑–Ω–∏ –≤ —Å–∫–æ—Ä–ª—É–ø–µ, –∑–∞—Å—Ç—ã–≤—à–∏–º –≤ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ–º –º–∏—Ä–µ.

–Ø –Ω–µ –∑–Ω–∞—é, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤—ë–ª –≤–æ —Ç—å–º–µ. –ù–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç. –Ø –≤—ã–ª—É–ø–∏–ª—Å—è, –∫–æ–≥–¥–∞ –ö–∏–Ω–¥—Ä–µ–ª–∏–∏ —É–∂–µ –Ω–µ –±—ã–ª–æ. –õ–∏—à—å –µ—ë –æ—Å—Ç–∞–Ω–∫–∏ —Å—Ç–∞–ª–∏ —á–∞—Å—Ç—å—é –Ω–æ–≤–æ–≥–æ –º–∏—Ä–∞ ‚Äî Zivery.

–ù–æ –¥–∞–∂–µ –≤ —ç—Ç–æ–º –º–∏—Ä–µ —è —á—É–≤—Å—Ç–≤—É—é –µ—ë –¥—ã—Ö–∞–Ω–∏–µ. –í —Å—Ç–∞—Ä—ã—Ö —Ä—É–∏–Ω–∞—Ö, –≤ —Å–ª–æ–º–∞–Ω–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞—Ö, –≤ –∑–∞—Ç—ë—Ä—Ç—ã—Ö –∑–∞–ø–∏—Å—è—Ö, —á—Ç–æ –µ–¥–≤–∞ —É—Ü–µ–ª–µ–ª–∏. –ö–∏–Ω–¥—Ä–µ–ª–∏—è –∂–∏–≤–∞ –≤ –Ω–∏—Ö ‚Äî —Ä–∞—Å—Ç–µ—Ä–∑–∞–Ω–Ω–∞—è, –∑–∞–±—ã—Ç–∞—è, –Ω–æ –Ω–µ –∏—Å—á–µ–∑–Ω—É–≤—à–∞—è –≤–æ–≤—Å–µ.

–Ø –ø–æ—Å–≤—è—Ç–∏–ª —Å–≤–æ—é –∂–∏–∑–Ω—å –µ—ë –ø–æ–∏—Å–∫–∞–º. –°–æ–±–∏—Ä–∞–ª –æ–±—Ä—ã–≤–∫–∏ —Ä–∞—Å—Å–∫–∞–∑–æ–≤, –ø–µ—Ä–≥–∞–º–µ–Ω—Ç—ã, —Å–ª—É—Ö–∏... –í—Å—ë, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å. –Ø –Ω–µ –∂–∏–ª –≤ –ö–∏–Ω–¥—Ä–µ–ª–∏–∏, –Ω–æ —è –∑–Ω–∞—é –µ—ë. –ü–æ—á—Ç–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∑–Ω–∞–ª –±—ã —Ä–æ–¥–Ω–æ–π –¥–æ–º, –µ—Å–ª–∏ –±—ã –≤—ã—Ä–æ—Å –≤ –µ–≥–æ —Ä—É–∏–Ω–∞—Ö.

–≠—Ç–æ—Ç —Ç—Ä—É–¥ ‚Äî "–ü–∞–¥–µ–Ω–∏–µ –ö–∏–Ω–¥—Ä–µ–ª–∏–∏" ‚Äî –≤—Å—ë, —á—Ç–æ –º–Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ–±—Ä–∞—Ç—å. –í –Ω—ë–º –ø—Ä–∞–≤–¥–∞, –¥–æ–≥–∞–¥–∫–∏ –∏, –±—ã—Ç—å –º–æ–∂–µ—Ç, –¥–∞–∂–µ –æ—à–∏–±–∫–∏... –ù–æ —è –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ –æ–¥–Ω–∞–∂–¥—ã –∫—Ç–æ-—Ç–æ –Ω–∞–π–¥—ë—Ç –≤ —ç—Ç–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö —Ç–æ, —á–µ–≥–æ –Ω–µ —Å–º–æ–≥ —É–≤–∏–¥–µ—Ç—å —è.

–ü–æ—Ç–æ–º—É —á—Ç–æ –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ—à–ª–æ–≥–æ... –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –±—É–¥—É—â–µ–µ.

[[]] –ù–∞—á–∞–ª–æ

<<set $musicContinue to true>>

<<include "CustomSoundToggle">>


:: CustomMenu {"position":"100,100","size":"100,100"}
<!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥, –∫–æ—Ç–æ—Ä–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
<span id="custom-back-button">
	<<link "‚¨ÖÔ∏è">>
		<<run Engine.backward()>>
	<</link>>
</span>


<div id="custom-menu-toggle" onclick="$('#custom-menu').toggle()">
	‚öôÔ∏è
</div>

<div id="custom-menu" style="display: none;">
	<<link "‚¨ÖÔ∏è –ù–∞–∑–∞–¥">>
		<<run Engine.backward()>>
	<</link>>

	<<link "‚û°Ô∏è –í–ø–µ—Ä—ë–¥">>
		<<run Engine.forward()>>
	<</link>>

	<<link "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å">>
		<<run UI.saves()>>
	<</link>>

	<<link "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å">>
		<<run Engine.restart()>>
	<</link>>
</div>




:: CustomSoundToggle {"position":"200,100","size":"100,100"}
<!-- CustomSoundToggle -->
<div id="sound-button" class="sound-on"></div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const soundButton = document.getElementById("sound-button");

    if (!soundButton) {
        console.error("–ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!");
        return;
    }

    if (State.variables.musicMuted) {
        soundButton.classList.add("muted");
    } else {
        soundButton.classList.remove("muted");
    }

    soundButton.addEventListener("click", function () {
        if (window.musicPlayer) {
            if (!window.musicPlayer.paused) {
                window.musicPlayer.pause();
                State.variables.musicTime = 0;
                soundButton.classList.add("muted");
                soundButton.classList.remove("sound-on");
                State.variables.musicMuted = true;
            } else {
                window.musicPlayer.currentTime = State.variables.musicTime || 0;
                window.musicPlayer.play().catch(e => console.warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –º—É–∑—ã–∫–∏:", e));
                soundButton.classList.remove("muted");
                soundButton.classList.add("sound-on");
                State.variables.musicMuted = false;
            }
        }
    });
});
</script>



:: –ë–µ–∑—ã–º—è–Ω–Ω—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ {"position":"850,375","size":"100,100"}
<<set $fullText to `  <br><div class="centered-line">–î–∞–≤–Ω—ã–º –¥–∞–≤–Ω–æ...</div>
–°–æ–ª–Ω—Ü–µ –º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–¥–Ω–∏–º–∞–ª–æ—Å—å –Ω–∞–¥ –∑–µ–º–ª–µ–π, –∑–∞–ª–∏–≤–∞—è –º—è–≥–∫–∏–º —Å–≤–µ—Ç–æ–º —Å–∫–ª–æ–Ω—ã —Ö–æ–ª–º–æ–≤. <br>–õ—ë–≥–∫–∏–π –≤–µ—Ç–µ—Ä–æ–∫ –ø—Ä–æ–±–µ–∂–∞–ª –ø–æ –ª—É–≥–∞–º –∏ –∑–∞–º–µ—Ä, —Å–ª–æ–≤–Ω–æ –±–æ—è—Å—å –Ω–∞—Ä—É—à–∏—Ç—å —Ç–∏—à–∏–Ω—É. <br>–†–µ–∫–∏ —Ç–µ–∫–ª–∏ –Ω–µ—Å–ø–µ—à–Ω–æ, –∏—Ö –≤–æ–¥—ã –ª–∞—Å–∫–∞–ª–∏ –±–µ—Ä–µ–≥–∞, —Å–ª–µ–¥—É—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–º—É —Ç–µ—á–µ–Ω–∏—é. <br>–î–µ—Ä–µ–≤—å—è —Ç—è–Ω—É–ª–∏—Å—å –∫ —Å–æ–ª–Ω—Ü—É, —Ä–∞—Å–ø—É—Å–∫–∞—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ, —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ –∫—Ä–æ–Ω—ã.
–ú–∏—Ä –∂–∏–ª —Å–ø–æ–∫–æ–π–Ω–æ, —Ä–∞–∑–º–µ—Ä–µ–Ω–Ω–æ. <br><br>–ù–∏—á—Ç–æ –Ω–µ –∑–∞–ø–∞–∑–¥—ã–≤–∞–ª–æ, –Ω–∏—á—Ç–æ –Ω–µ –æ–ø–µ—Ä–µ–∂–∞–ª–æ —Å–≤–æ–π —Å—Ä–æ–∫.
–í –≤–æ–∑–¥—É—Ö–µ –∑–≤–µ–Ω–µ–ª–æ –ø–µ–Ω–∏–µ –ø—Ç–∏—Ü: —á–∏—Å—Ç–æ–µ, —Å—Ç—Ä–æ–π–Ω–æ–µ. <span class="small-space"></span>–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–µ–ª–æ–¥–∏–∏, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≥–æ–ª–æ—Å–∞. <span class="small-space"></span>–°–æ—Ç–Ω–∏ –ª–µ—Ç –ø–æ–¥—Ä—è–¥.
–ó–¥–µ—Å—å –Ω–µ –±—ã–ª–æ –±—É—Ä—å. <br><br>–ù–µ –±—ã–ª–æ –¥–∞–∂–µ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏. 
–ù–µ —Ä–æ–∂–¥–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã. <br><br>–ù–µ –ø–æ—è–≤–ª—è–ª–∏—Å—å —Å–æ–º–Ω–µ–Ω–∏—è.
–ù–∏–∫—Ç–æ –Ω–µ —Å–ø–æ—Ä–∏–ª, –Ω–µ —Ä–∞–∑—Ä—É—à–∞–ª. <br><br>–ù–∏–∫—Ç–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª –Ω–∏—á–µ–≥–æ –Ω–æ–≤–æ–≥–æ.
–ù–µ–∑—ã–±–ª–µ–º–∞—è.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;–ë–µ–∑–º—è—Ç–µ–∂–Ω–∞—è.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;–ö–∏–Ω–¥—Ä–µ–ª–∏—è‚Ä¶
 <br><div class="centered-line">–£–≤—è–¥–∞–ª–∞...</div>
`>>

<<set $fullTextArray to $fullText.split("\n")>>  
<<set $storyIndex to 0>>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
<div id="page-container">

  <!-- –¶–µ–Ω—Ç—Ä –¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞ -->
  <div id="center-anchor"></div>

  <!-- –ï–¥–∏–Ω—ã–π –±–ª–æ–∫: –ø–ª–∞—à–∫–∞ + —Ç–µ–∫—Å—Ç + –∫–Ω–æ–ø–∫–∏ -->
  <div id="dialog-block">
    <!-- –ü–ª–∞—à–∫–∞ -->
    <img src="images/secondPlashka.png" alt="–ß—ë—Ä–Ω–∞—è –ø–ª–∞—à–∫–∞" class="second-plashka">
    <img src="images/plashka.png" alt="–ó–æ–ª–æ—Ç–∞—è –ø–ª–∞—à–∫–∞" class="gold-plashka">

    <!-- –¢–µ–∫—Å—Ç -->
    <div id="text-container" class="text-inside">
      <<print $fullTextArray[$storyIndex]>>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="buttons-wrapper">
      <div id="backBtn">
        <<link "–í–µ—Ä–Ω—É—Ç—å">>
          <<if $storyIndex > 0>>
            <<set $storyIndex to $storyIndex - 1>>
            <<replace "#text-container">>
              <<print $fullTextArray[$storyIndex]>>
            <</replace>>
          <<else>>
            –ü–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª–æ—Å—å.
          <</if>>
        <</link>>
      </div>

      <div id="nextBtn">
        <<link "–î–∞–ª–µ–µ">>
          <<if $storyIndex < $fullTextArray.length - 1>>
            <<set $storyIndex to $storyIndex + 1>>
            <<replace "#text-container">>
              <<print $fullTextArray[$storyIndex]>>
            <</replace>>
          <<else>>
            –ò—Å—Ç–æ—Ä–∏—è –æ–∫–æ–Ω—á–µ–Ω–∞.
          <</if>>
        <</link>>
      </div>
    </div>
  </div>

  <!-- –û—Ç–¥–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->

  <!-- –§–æ–Ω -->
  <div id="background"></div>

  <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂ -->
  <img src="character.png" class="character">

  <!-- –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ -->
  <div id="sound-button" class="sound-on"></div>

  <!-- –°—Å—ã–ª–∫–∏ -->
  <div id="custom-links">
    [[..–ù–æ –∫—Ç–æ —Ç–æ–≥–¥–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –º–Ω–µ —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é?]]  
    [[–ù–µ –≤–∞–∂–Ω–æ, –∏–¥—ë–º –¥–∞–ª—å—à–µ!]] 
  </div>

</div>

<<include "CustomMenu">>

<div id="center-anchor"></div>



:: –ù–µ –≤–∞–∂–Ω–æ, –∏–¥—ë–º –¥–∞–ª—å—à–µ! {"position":"975,500","size":"100,100"}
–î–∞–∞

<<set $musicContinue to true>>

<<include "CustomMenu">>

<<include "CustomSoundToggle">>


:: –ù–µ! {"position":"975,625","size":"100,100"}




–≤–∞–æ–∏–ø–∞–ª–∏—É–∫–ø—Ü—É–ª–ø–∏—Ç


:: StoryScript [script]
if (typeof State.variables === "undefined") {
    State.variables = {};
}

// –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ State
if (!State.variables.musicTime) {
    State.variables.musicTime = 0;
}

// –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–≤—É–∫–∞
if (typeof State.variables.musicMuted === "undefined") {
    State.variables.musicMuted = false;
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
function passage() {
    return State.passage;
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–ª–µ–µ—Ä
if (!window.musicPlayer) {
    const audio = document.createElement("audio");
    audio.id = "background-music";
    audio.src = "audio/Thebeginning.mp3";
    audio.loop = true;
    audio.volume = 0.5;
    document.body.appendChild(audio);

    // –£–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü, –≥–¥–µ –¥–æ–ª–∂–Ω–∞ –∏–≥—Ä–∞—Ç—å –º—É–∑—ã–∫–∞
    const pagesWithMusic = [
        "–ë–µ–∑—ã–º—è–Ω–Ω—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ",      
        "..–ù–æ –∫—Ç–æ —Ç–æ–≥–¥–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –º–Ω–µ —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é?", 
        "–ù–µ –≤–∞–∂–Ω–æ, –∏–¥—ë–º –¥–∞–ª—å—à–µ!"
    ];

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∏–≥—Ä–æ–∫ –≤ –æ–¥–Ω–æ–π –∏–∑ –Ω—É–∂–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
    if (pagesWithMusic.includes(passage()) && !State.variables.musicMuted) {
        if (State.variables.musicTime) {
            audio.currentTime = State.variables.musicTime; // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞
        }
        audio.play().catch(e => console.warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –º—É–∑—ã–∫–∏:", e));
    } else {
        audio.pause();
        State.variables.musicTime = 0;
    }

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–ª–µ–µ—Ä –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    window.musicPlayer = audio;

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
    window.setInterval(() => {
        if (!audio.paused) {
            State.variables.musicTime = audio.currentTime;
        }
    }, 3000);

    // –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–≤–æ–º—É –∫–ª–∏–∫—É (–¥–ª—è —Å–ª—É—á–∞–µ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)
    window.addEventListener("click", function () {
        if (audio.paused && pagesWithMusic.includes(passage()) && !State.variables.musicMuted) {
            audio.play().catch(e => console.warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –º—É–∑—ã–∫–∏:", e));
        }
    }, { once: true });
}

// üîπ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º—É–∑—ã–∫–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —Å—Å—ã–ª–∫—É "–ù–µ!"
$(document).on('click', 'a[data-passage="–ù–µ!"]', function () {
    if (window.musicPlayer) {
        window.musicPlayer.pause();
        State.variables.musicTime = 0;
        State.variables.musicMuted = true;  // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        $("#sound-button").addClass("muted").removeClass("sound-on");  // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å "muted"
    }
});

// üîπ –û—Å—Ç–∞–Ω–æ–≤–∫–∞/–≤–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
$(document).on('click', '#sound-button', function () {
    if (window.musicPlayer) {
        const soundButton = $("#sound-button");

        if (!window.musicPlayer.paused) {
            window.musicPlayer.pause();
            State.variables.musicTime = 0;
            State.variables.musicMuted = true;  // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            soundButton.addClass("muted").removeClass("sound-on");  // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å "muted"
        } else {
            window.musicPlayer.currentTime = State.variables.musicTime || 0;
            window.musicPlayer.play().catch(e => console.warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –º—É–∑—ã–∫–∏:", e));
            State.variables.musicMuted = false;  // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            soundButton.addClass("sound-on").removeClass("muted");  // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å "muted"
        }
    }
});


:: StoryStylesheet [stylesheet]
/* –¶–µ–Ω—Ç—Ä –ø—Ä–∏–≤—è–∑–∫–∏ */
#center-anchor {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  background-color: red;
  transform: translate(-50%, -50%);
  z-index: 10000;
  pointer-events: none;
  border-radius: 50%;
  box-shadow: 0 0 10px 4px rgba(255, 0, 0, 0.7);
}


/* –û–±—Ä–µ–∑–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —á—Ç–æ –±—ã –ª–∏—à–Ω–µ–µ –Ω–µ –≤—ã–ª–∞–∑–∏–ª–æ) */
/* –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
html, body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;

  /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
  overflow-x: hidden;
  overflow-y: auto;

  /* –§–æ–Ω –≤–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω—ã */
  background-color: black;

  /* –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º flex ‚Äî —ç—Ç–æ –ª–æ–º–∞–ª–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ */
  display: block;
}


/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
#page-container {
  width: 100%;
  max-width: 1440px;
  aspect-ratio: 16 / 10;
  margin: 0 auto;
  position: relative;
  overflow: visible;
}


/* –§–æ–Ω */
#background {
  background: url("images/yourBackgroundImage.png") no-repeat center center;
  background-size: cover;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
}

/* –ü–µ—Ä—Å–æ–Ω–∞–∂ */
.character {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-180%, 15%);
  height: 60vh;
  max-height: 500px;
  width: auto;
  z-index: 5;
}

/* –ë–õ–û–ö –¥–∏–∞–ª–æ–≥–∞, –ø–ª–∞—à–µ–∫, —Ç–µ–∫—Å—Ç–∞ –∏ –∫–Ω–æ–ø–æ–∫ */
#dialog-block {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -10%); /* —Å–º–µ—â–µ–Ω–∏–µ –±–ª–æ–∫–∞ –≤–≤–µ—Ä—Ö –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ */
  width: min(90vw, 1000px); /* –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
  aspect-ratio: 3 / 1;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
}

/* –ü–ª–∞—à–∫–∏ */
.second-plashka, .gold-plashka {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
}
.second-plashka { z-index: 1; opacity: 0.8; }
.gold-plashka   { z-index: 3; }

/* –¢–µ–∫—Å—Ç */
.text-inside {
  position: relative;
  z-index: 2;
  width: 90%;
  height: 85%;
  padding: 6%;
  box-sizing: border-box;
  color: white;
  font-family: "Georgia", serif;
  font-size: min(1.6vw, 24px);
  line-height: 1.6;
  text-align: justify;
  overflow: auto;
  user-select: none;
}

/* –ö–ù–û–ü–ö–ò –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ */
#nextBtn .link-internal,
#backBtn .link-internal {
  display: inline-block;
  padding: 1vw 3vw;
  border-radius: 1vw;
  font-size: min(2vw, 22px);
  color: white;
  font-weight: bold;
  white-space: nowrap;
  cursor: pointer;
  z-index: 9;
  user-select: none;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
  transition: color 0.3s ease;
}

#nextBtn .link-internal:hover,
#backBtn .link-internal:hover {
  color: #ff69b4;
  text-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
}


/* –ó–≤—É–∫ */
#sound-button {
  width: min(100px, 8vw);
  height: min(100px, 8vw);
  background-image: url('ikon/sound2.png');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  cursor: pointer;
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 999;
  pointer-events: auto;
}
#sound-button.muted {
  background-image: url('ikon/sound1.png');
}

#sound-button.muted {
    background-image: url('ikon/sound1.png'); 
}

#custom-links {
  position: fixed;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  z-index: 1000;
}


/* –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ [[..–ù–æ –∫—Ç–æ —Ç–æ–≥–¥–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –º–Ω–µ —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é?]] */
#custom-links .link-internal {
  color: #ffffff;
  font-weight: bold;
  font-size: min(2vw, 22px);

  text-align: center;
  text-shadow: 0 0 10px rgba(0, 170, 255, 0.8);
  cursor: pointer;
  white-space: nowrap;

  user-select: none;
}

#custom-links .link-internal:hover {
  color: #00aaff;
  text-shadow: 0 0 15px rgba(0, 170, 255, 1);
}


/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
.small-space {
    display: block;
    height: 10px;
}

.centered-line {
    display: block;
    text-align: center;
    margin: 10px 0;
}

.shifted-line {
    display: inline-block;
    margin-left: 15ch;
}

.faded-text {
    color: #000000;
    text-shadow: 0 0 15px rgba(255, 77, 77, 0.8);
    font-weight: bold;
  }
  

/* –ú–µ–Ω—é */

/* –®–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ */
#custom-menu-toggle {
    position: fixed;
    top: 20px;
    left: 100px;
    font-size: 48px;
    z-index: 1000;
    cursor: pointer;
    color: white;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;

}

/* —á–µ—Ä–Ω–∞—è –ø–ª–∞—à–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ */
#custom-menu {
    position: fixed;
    top: 80px;
    left: 30px;
    z-index: 999;
    background-color: rgba(0, 0, 0, 0.85);
    padding: 12px 16px;
    border-radius: 12px;
    display: none;
    flex-direction: column;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
    min-width: 200px;
   font-size: 0; /* üî• –£–±–∏—Ä–∞–µ—Ç "–∑–∞–∑–æ—Ä—ã" –æ—Ç –ø—Ä–æ–±–µ–ª–æ–≤/–ø–µ—Ä–µ–Ω–æ—Å–æ–≤ */
}

.menu-button {
    display: flex;
    align-items: center;
   line-height: 1.2; /* –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —É–º–µ–Ω—å—à–∏—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å */
  border: 1px solid red; /* –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–º–∫–∞ */
}

#custom-menu .link-internal {
    all: unset;
    display: inline-block; /* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
    width: 100%;
    margin: 2px 0;
    padding: 4px 6px;
    font-size: 16px; /* –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —à—Ä–∏—Ñ—Ç */
    line-height: 1.2;
    font-weight: bold;
    color: white;
    text-align: left;
    white-space: nowrap;
    box-sizing: border-box;
  
    cursor: pointer;
}

#ui-bar {
    display: none !important;
}

/* –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" —Ä—è–¥–æ–º —Å —à–µ—Å—Ç–µ—Ä—ë–Ω–∫–æ–π */
#custom-back-button {
    position: fixed;
    top: 20px;
    left: 10px;
    font-size: 36px;
    z-index: 1001;
    cursor: pointer;
    color: white;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    transition: color 0.3s ease;
}

#custom-back-button:hover {
    color: #00aaff;
}

